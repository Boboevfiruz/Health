"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1780],{55557:function(e,r,t){t.d(r,{M:function(){return i}});var n=t(26203),o=t(67814),a=t(94184),l=t.n(a),s=t(37424),c=t(85893),i=function(e){var r=e.icon,t=void 0===r?n.sqG:r,a=e.children,i=e.className,d=e.onHover,u=e.tooltipTheme,b=void 0===u?"white":u,p=(0,s.D)();return(0,c.jsxs)("div",{className:l()("group relative inline-block px-1",i),onMouseEnter:d,children:[(0,c.jsx)("div",{"aria-describedby":p,children:(0,c.jsx)(o.G,{icon:t})}),(0,c.jsxs)("div",{id:p,"aria-hidden":!0,className:l()("absolute hidden p-3 text-xs shadow-md border-grey-deep transform -translate-x-1/2 left-1/2 transition duration-700 ease-in-out group-hover:block","white"===b&&"w-44 mt-2 border rounded bg-white","dark"===b&&"mt-3 w-48 bg-rebranded-grey text-white font-bold"),children:[(0,c.jsx)("span",{className:l()("absolute inline-block border-t border-l border-grey-deep transform -translate-x-1/2 -top-1.5 left-1/2 rotate-45","white"===b&&"w-4 h-4 bg-white","dark"===b&&"w-3.5 h-3.5 bg-rebranded-grey")}),a]})]})}},11780:function(e,r,t){t.d(r,{G:function(){return qe}});var n,o,a,l,s=t(94184),c=t.n(s),i=t(23279),d=t.n(i),u=t(11163),b=t(67294),p=t(2031),h=t(57854),f=t(86463),m=t(84541),g=t(87899),x=t(68722),v=t(492),y=t(85866),j=t(23353),w=t(21241),O=t(86799),S=t(21586),N=t(25053),P=t(45922),k=t(89419),C=t(58268),D=t(92809),F=t(52209),Z=t(30266),I=t(61565),E=t(91164),L=t(809),T=t.n(L),A=t(77267),B=t(9669),R=t.n(B),q=t(25934),J=t(25892),U=function(){var e=(0,Z.Z)(T().mark((function e(r){var t,n,o,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.name.split(".").pop(),n="".concat((0,q.Z)(),".").concat(t),e.next=4,R().post((0,J.b)().reverseSearchImageUploadUrl,{fileName:n});case 4:return o=e.sent,a=o.data.url,e.next=8,R().put(a,r);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),V=t(63142),G=t(77132),z=t(15445),M=t(7528),$=t(92565),W=t(67814),_=t(55162),H=t(1153),Q=t(21610),K=["jpg","jpeg","png"],X=t(85893),Y=["onClick"];function ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function re(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ee(Object(t),!0).forEach((function(r){(0,D.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var te,ne,oe=function(e){var r=e.onFileChange,t=e.isLoading,s=void 0!==t&&t,i=(0,p.$)().t,d=(0,b.useState)(null),u=d[0],h=d[1],f=function(e){h(null);var t=(0,I.Z)(e,1)[0];if(t&&!s){var n=function(e,r){var t=e.name.split(".").pop()||"";return e.name.includes(".")&&K.includes(t.toLowerCase())?e.size>5242880?new Error(r("reverse-search.image-upload-error-file-size")):null:new Error(r("reverse-search.image-upload-error-file-type"))}(t,i);n?h(n):r&&r(t)}},m=(0,_.u)({onDrop:function(e){return f(e)},multiple:!1}),x=m.getRootProps,v=m.getInputProps,y=m.isDragActive,j=x(),w=j.onClick,O=(0,E.Z)(j,Y),S=v(),N=(0,g.w)();return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",re(re({},O),{},{className:c()("relative w-full text-center border-4 border-dashed mb-7 bg-grey-light text-grey-black p-10",y&&!s?"border-grey-deep":"border-grey-mid"),children:[(0,X.jsx)(W.G,{icon:$.FV7,size:"5x",className:c()("mb-3 fill-current",N?"text-black":"text-navy")}),(0,X.jsx)("h4",{className:"hidden my-5 text-lg md:block",children:i(n||(n=(0,F.Z)(["reverse-search.image-upload-text"])))}),(0,X.jsx)("h5",{className:"hidden text-lg md:block",children:i(o||(o=(0,F.Z)(["reverse-search.image-upload-or"])))}),(0,X.jsx)("div",{className:"mt-5 overflow-hidden",children:(0,X.jsx)(Q.o,{primary:!0,size:H.q.Large,onClick:w,loading:s,className:"mx-auto text-lg xs:w-auto xs:px-14",children:i(a||(a=(0,F.Z)(["reverse-search.image-upload-cta"])))})})]})),(0,X.jsx)("input",re(re({},S),{},{accept:K.map((function(e){return".".concat(e)})).join(",")})),u?(0,X.jsx)("p",{className:c()("text-sm text-center text-red",N&&"font-bold"),children:u.message}):(0,X.jsx)("p",{className:c()("text-sm text-center text-grey-deep",N&&"font-bold"),children:i(l||(l=(0,F.Z)(["reverse-search.image-upload-specs"])))})]})},ae=t(2825),le=t(68346);function se(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ce(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?se(Object(t),!0).forEach((function(r){(0,D.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var ie,de,ue,be,pe=/^(https?:\/\/)[^/]{1,1}.*(jpe?g|png)((#|\?)|$)/i,he=function(e){var r=e.onSubmit,t=(0,p.$)().t,n=(0,le.U)("",(function(e){return e&&pe.test(e)?null:t("reverse-search.url-invalid-error")})),o=(0,g.w)();return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("form",{className:c()("flex w-full mb-3",o&&"rounded-full border border-black 2xs:p-0 md:p-0"),onSubmit:function(e){e.preventDefault(),n.valid&&r(n.value)},children:[(0,X.jsx)("input",ce({type:"text",className:c()("flex-1 min-w-0 text-base appearance-none h-13",o?"pl-4 font-normal bg-transparent focus:outline-none":"pl-5 border border-r-0 rounded-none rounded-l border-grey-deep focus:border-cyan focus:outline-none"),placeholder:t(te||(te=(0,F.Z)(["reverse-search.url-searchinput-text"])))},n.props)),(0,X.jsx)("button",{type:"submit",title:t("reverse-search.url-searchcta"),className:c()(o?"px-4 text-xl rounded-tr-full rounded-br-full border-black hover:text-green text-black":"px-3 text-xl text-white rounded-r h-13 focus:outline-none bg-cyan hover:bg-blue-deep focus:bg-blue-deep focus:border-cyan"),children:(0,X.jsx)(W.G,{icon:ae.wn1,className:"fa-fw"})})]}),n.showError&&n.error?(0,X.jsx)("p",{className:c()("text-sm mb-7 text-red",o&&"font-bold"),children:n.error}):(0,X.jsx)("p",{className:c()("text-sm mb-7 text-grey-deep",o&&"font-bold"),children:t(ne||(ne=(0,F.Z)(["reverse-search.url-searchspecs"])))})]})},fe=["defaultTab"];function me(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ge(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?me(Object(t),!0).forEach((function(r){(0,D.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var xe=function(e){var r=e.defaultTab,t=(0,E.Z)(e,fe),n=(0,p.$)().t,o=(0,m.b)(),a=(0,A.$)(),l=(0,I.Z)(a,2),s=l[0],i=l[1],d=(0,y.q)(y.A.SearchPage,o),u=(0,g.w)(),b=function(e){(0,V.L9)({event:V.ju.Click,action:V.aU.ReverseImageSearch,category:V.WD.SearchBar,label:e.startsWith("https://")?n("reverse-search.tab-url-search"):n("reverse-search.tab-image-upload")}),location.href="".concat(d,"?imageurl=").concat(e)};return(0,X.jsxs)(G.u_,ge(ge({transition:G.Lt.SlideDown,large:!0,className:c()(u&&"font-noto")},t),{},{"data-testid":"reverse-search-modal",children:[(0,X.jsx)(G.r6,{children:n(ie||(ie=(0,F.Z)(["reverse-search.title"])))}),(0,X.jsxs)(M.m,{className:"block","aria-label":n(de||(de=(0,F.Z)(["reverse-search.tabs-label"]))),defaultSelected:r,onChangeTab:function(e){(0,V.L9)({event:V.ju.Click,action:V.aU.ReverseImageTabClick,category:V.WD.SearchBar,label:n(0===e?"reverse-search.tab-image-upload":"reverse-search.tab-url-search")})},children:[(0,X.jsx)(z.x,{title:n(ue||(ue=(0,F.Z)(["reverse-search.tab-image-upload"]))),children:(0,X.jsx)(oe,{isLoading:s,onFileChange:function(e){return function(e){return i((0,Z.Z)(T().mark((function r(){var t;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,U(e);case 2:t=r.sent,b(t);case 4:case"end":return r.stop()}}),r)}))))}(e).catch(P.S3)}})}),(0,X.jsx)(z.x,{title:n(be||(be=(0,F.Z)(["reverse-search.tab-url-search"]))),children:(0,X.jsx)(he,{onSubmit:b})})]})]}))},ve=t(26203),ye=t(57725),je=t(55557),we=t(66791),Oe=function(e){var r=e.query,t=e.suggestion,n=e.results,o=e.onSuggestionChange,a=e.onSearch,l=(0,g.w)(),s=t?n.indexOf(t):-1,i=function(e){return o(e<0?null:n[e])};return(0,we.Z)("keydown",(function(e){"ArrowUp"===e.key?(e.preventDefault(),i(s-1)):"ArrowDown"===e.key&&(e.preventDefault(),i(s>=n.length-1?0:s+1))})),(0,X.jsx)("ul",{className:"absolute z-30 w-full mt-2 bg-white border border-grey-border top-full",role:"list",children:n.map((function(e){return(0,X.jsxs)("li",{className:c()("px-4 py-2 text-lg text-left cursor-pointer text-grey-deep hover:bg-grey-light transition-colors",e===t&&"text-grey-black bg-grey-mid",l&&"font-noto font-bold"),"aria-selected":e===t,role:"option",onMouseDown:function(){!function(e){o(e),a()}(e),(0,V.L9)({event:V.ju.Click,action:V.aU.SuggestionClick,category:V.WD.SearchBar,label:e})},children:[r,(0,X.jsx)("span",{className:c()("text-navy-tint",l?"font-normal":"font-bold"),children:e.slice(r.length)})]},e)}))})},Se=["icon","label","selected","children","indented","onClick"];function Ne(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Pe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ne(Object(t),!0).forEach((function(r){(0,D.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var ke,Ce,De,Fe=function(e){var r=e.icon,t=e.label,n=e.selected,o=void 0!==n&&n,a=e.children,l=e.indented,s=e.onClick,i=(0,E.Z)(e,Se),d=(0,g.w)(),u=d?"bg-rebranded-grey text-guppie":"text-cyan";return(0,X.jsxs)("li",{children:[(0,X.jsxs)("div",Pe(Pe({},i),{},{onClick:s,className:c()("flex items-center px-4 py-2.5 text-sm",o?u:"text-grey-black hover:bg-gray-100",l?"pl-6":""),children:[(0,X.jsx)(W.G,{icon:r,className:c()("fa-fw",d?"text-xl":"")}),(0,X.jsx)("span",{className:c()("pl-2",d&&"font-noto"),role:"option","aria-selected":o,children:t})]})),a]})},Ze=(ke={default:y.A.SearchImagesNew},(0,D.Z)(ke,N.JP.Footage,y.A.SearchFootageNew),(0,D.Z)(ke,N.JP.LiveNews,y.A.SearchNews),ke);!function(e){e.AllImages="search-bar.filter-all-images",e.Photographs="search-bar.filter-photographs",e.Vectors="search-bar.filter-vectors",e.Illustrations="search-bar.filter-illustrations",e.Social="search-bar.filter-social",e.ThreeSixtyImages="search-bar.filter-360-images",e.Video="search-bar.filter-footage",e.LiveNews="search-bar.filter-live-news"}(De||(De={}));var Ie=(Ce={},(0,D.Z)(Ce,De.AllImages,"All images"),(0,D.Z)(Ce,De.Photographs,"Photographs"),(0,D.Z)(Ce,De.Vectors,"Vectors"),(0,D.Z)(Ce,De.Illustrations,"Illustrations"),(0,D.Z)(Ce,De.Social,"Social"),(0,D.Z)(Ce,De.ThreeSixtyImages,"360 Images"),(0,D.Z)(Ce,De.Video,"Footage"),(0,D.Z)(Ce,De.LiveNews,"Live News"),Ce),Ee=[{icon:ae.VmB,label:De.AllImages,placeholder:"search-bar.placeholder-all-images",shortPlaceholder:"search-bar.short-placeholder-all-images",type:N.lJ.AllImages},{icon:ae.FV7,label:De.Photographs,placeholder:"search-bar.placeholder-photographs",indented:!0,type:N.lJ.Photographs},{icon:ae._mi,label:De.Vectors,placeholder:"search-bar.placeholder-vectors",indented:!0,type:N.lJ.Vectors},{icon:ae.sSh,label:De.Illustrations,placeholder:"search-bar.placeholder-illustrations",indented:!0,type:N.lJ.Illustrations},{icon:ae.bJI,label:De.Social,placeholder:"search-bar.placeholder-social",indented:!0,type:N.lJ.Social},{icon:ae.pXZ,label:De.ThreeSixtyImages,placeholder:"search-bar.placeholder-360-images",indented:!0,type:N.lJ.Image360},{icon:ae.CjD,label:De.Video,placeholder:"search-bar.placeholder-footage",locales:["en","de"],type:N.JP.Footage},{icon:ae.Xgz,label:De.LiveNews,placeholder:"search-bar.placeholder-live-news",locales:["en","de"],type:N.JP.LiveNews}];function Le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Te(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Le(Object(t),!0).forEach((function(r){(0,D.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ae=function(e){var r=e.onFilterChange,t=e.currentFilter,n=e.setReverseSearchOpen,o=e.selectedFilter,a=(0,p.$)().t,l=(0,m.b)(),s=(0,g.w)(),i=(0,ye.x)(),d=i.isOpen,u=i.dropdownButtonProps,h=i.dropdownMenuProps,f=i.dropdownItemProps,x=i.close,y=(0,w.m)().distributorTerritory;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("button",Te(Te({},u),{},{className:c()(s&&"rounded-full","flex items-center h-full px-4 py-2 text-sm cursor-pointer select-none focus:outline-none"),title:a("search-bar.select-search-type"),children:[(0,X.jsx)(W.G,{size:"lg",icon:t.icon}),(0,X.jsx)("span",{className:c()("hidden pl-2 lg:inline",s&&"font-noto text-black"),children:a(t.label)}),(0,X.jsx)(W.G,{className:"flex-1 pl-2 text-lg",icon:ae.ptq})]})),(0,X.jsxs)("ul",Te(Te({},h),{},{className:c()(!d&&"hidden","absolute left-0 z-50 bg-white shadow-md top-full",s?"w-auto mt-1 border-b border-black md:border-0 md:mt-2 md:rounded":"mt-2 rounded"),"aria-hidden":!d,children:[Ee.filter((function(e){var r=e.locales,t=e.type,n=!r||r.includes(l),o=Boolean(N.JP.Footage!==t&&y);return y?o:n})).map((function(e,n){var l=e.icon,s=e.label,c=e.indented,i=e.type;return(0,b.createElement)(Fe,Te(Te({},f),{},{icon:l,label:a(s),key:n,selected:i===t.type,onClick:function(){(s!==De.AllImages&&o!==i||o!==N.lJ.AllImages&&s===De.AllImages)&&(0,V.L9)({event:V.ju.Click,action:V.aU.Dropdown,category:V.WD.SearchBar,label:Ie[s]}),r(i),x()},indented:c}))})),(0,X.jsx)("hr",{className:"mx-4"}),(0,X.jsx)(Fe,Te(Te({},f),{},{icon:$.FV7,label:a("search-bar.search-by-image-short"),onClick:function(){n(!0),(0,v.ob)(V.aU.ReverseImageIconClick,""),x()}}))]}))]})},Be=function(e){var r,t=e.query,n=e.suggestion,o=e.autocompleteResults,a=e.onQueryChange,l=e.onSuggestionChange,s=e.onFilterChange,i=e.selectedFilter,d=e.setReverseSearchOpen,u=e.onSearch,h=e.enableFilterSelect,f=void 0===h||h,m=e.enableReverseImageSearch,x=void 0===m||m,y=e.isVideoSearch,j=void 0!==y&&y,w=e.searchFilterIcon,O=e.errorMessage,S=void 0===O?"":O,N=e.classNames,P=(0,p.$)().t,k=(0,b.useRef)(null),C=(0,b.useState)(!1),D=C[0],F=C[1],Z=!1,I="undefined"!==typeof(r=i)&&Ee.find((function(e){return e.type===r}))||Ee[0],E=(0,g.w)(),L=D?"border-cyan":"border-black-deep",T="".concat(j?"md:p-0":"md:px-5 md:py-2 border-b  md:bg-grey-light"),A="".concat(j?"rounded-full border":"md:rounded-full border-b md:border"," border-black h-12 2xs:p-0 md:p-0 bg-white md:my-2");return(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)("div",{className:c()("search-class flex flex-row items-center border-black-border",E?A:T,null===N||void 0===N?void 0:N.wrapper),children:[(0,X.jsxs)("div",{className:c()(!E&&L,"relative flex flex-row items-center flex-1 cursor-pointer text-grey-black md:mx-0 h-13 noto-sans",E?"md:rounded-tl-full md:rounded-bl-full bg-transparent border-0":"md:rounded-l bg-white md:border-r-0 md:border-b md:border"),children:[f&&(0,X.jsx)(Ae,{onFilterChange:s,currentFilter:I,setReverseSearchOpen:d,selectedFilter:i}),(0,X.jsxs)("div",{className:c()("relative flex flex-auto h-10",E?"border-black h-8":"border-grey-border",{"border-l":f,"ml-3":E&&j},null===N||void 0===N?void 0:N.wrapperInput),children:[(0,X.jsxs)("label",{className:c()("absolute w-full h-full py-2 pl-4 align-middle text-mid-grey cursor-text",E?"md:pr-4 font-noto 3xs:py-1.5":"md:px-4",{"sr-only":Boolean(t)}),htmlFor:"qt",children:[(0,X.jsx)("span",{className:c()("2xl:hidden",{"text-2xs 1xs:text-base 2sm:font-noto":j&&E,"text-2xs 2sm:text-base":j&&!E,"font-noto":!j&&E,"text-base":j&&!E,"text-red":S}),children:S||P(I.shortPlaceholder||I.placeholder)}),(0,X.jsx)("span",{className:c()("hidden 2xl:inline",{"text-red":S}),children:S||P(I.placeholder)})]}),(0,X.jsx)("input",{ref:k,role:"searchbox",className:c()("flex-auto w-0 h-full pl-4 pr-10 md:px-4 md:pr-10 focus:outline-none",E&&"font-noto"),onFocus:function(){return F(!0)},onBlur:function(){return F(!1)},value:n||t,onChange:function(e){return a(e.target.value,!0)},onKeyDown:function(e){"Escape"===e.key?a(t,!1,!0):"Enter"===e.key&&(Z=!0,(0,v.ob)(V.aU.PressEnter,Ie[I.label]))},maxLength:250,type:"text",name:"qt",id:"qt",autoComplete:"off","aria-autocomplete":"list"}),D&&t&&o.length>0&&(0,X.jsx)(Oe,{query:t,suggestion:n,onSuggestionChange:l,results:o,onSearch:u}),t&&(0,X.jsx)("button",{className:c()(!D&&"opacity-0","absolute right-0 flex-row items-center h-full px-2 text-xl bg-transparent hover:text-cyan md:flex focus:text-cyan focus:outline-none md:px-4",x&&"md:right-12"),type:"button",title:P("search-bar.reset"),onClick:function(){a(""),k.current&&k.current.focus()},children:(0,X.jsx)(W.G,{icon:ve.NBC,className:"text-grey-deep"})}),x&&(0,X.jsx)("button",Te(Te({className:c()("relative flex-row items-center hidden h-full text-xl bg-white md:flex",E?"hover:text-guppie focus:text-green bg-transparent px-2":"hover:text-cyan focus:text-cyan focus:outline-none px-4")},!E&&{title:P("search-bar.search-by-image-long")}),{},{type:"button",role:"button","data-testid":"searchByImageLong","aria-label":E?P("search-bar.search-by-image-long"):void 0,onClick:function(){d(!0),(0,v.ob)(V.aU.ReverseImageIconClick,"")},children:(0,X.jsx)(je.M,{icon:$.FV7,tooltipTheme:"dark",children:P("search-bar.search-by-image-long")})})),w]})]}),(0,X.jsx)("button",{type:"submit",title:P("search-bar.search"),onClick:function(){Z||(0,v.ob)(V.aU.MagnifierIconClick,Ie[I.label])},className:c()("text-xl bg-white h-13 focus:outline-none",E?"px-4 h-full md:bg-white rounded-tr-full rounded-br-full border-black hover:text-guppie text-black":"px-3 md:bg-cyan md:hover:bg-blue-deep md:focus:bg-blue-deep md:border-cyan border-r-0 rounded-r h-13 text-cyan md:text-white md:border md:rounded-r text-cyan"),children:(0,X.jsx)(W.G,{icon:ae.wn1,className:"fa-fw"})})]})})},Re=t(78770),qe=function(e){var r=e.autocompleteResults,t=void 0===r?[]:r,n=e.defaultFilterType,o=void 0===n?null:n,a=e.enableFilterSelect,l=void 0===a||a,s=e.enableAutocomplete,i=void 0===s||s,D=e.enableReverseImageSearch,F=void 0===D||D,Z=e.isVideoSearch,I=void 0!==Z&&Z,E=e.isFixedWidth,L=void 0!==E&&E,T=e.showSearchCountry,A=void 0!==T&&T,B=e.withBackground,R=void 0===B||B,q=e.defaultEmptyQuery,J=void 0!==q&&q,U=e.searchFilterIcon,V=e.searchClassNames,G=(0,p.$)().t,z=(0,u.useRouter)(),M=(0,x.Y)(),$=M.imgt,W=M.qt,_=void 0===W?"":W,H=(0,m.b)(),Q=(0,h.h)(!0),K=(0,b.useRef)(null),Y=(0,O.a)(),ee=(0,b.useState)(!1),re=ee[0],te=ee[1],ne=(0,b.useState)(null!==o&&void 0!==o?o:$),oe=ne[0],ae=ne[1],le=(0,b.useState)(null),se=le[0],ce=le[1],ie=(0,b.useState)((0,k.IT)(z.query)?"":_),de=ie[0],ue=ie[1],be=(0,b.useState)(i?t:[]),pe=be[0],he=be[1],fe=(0,b.useState)(!0),me=fe[0],ge=fe[1],ve=(0,g.w)(),ye=(0,f.e)(),je=(0,f.H)(),we=(0,b.useState)(!1),Oe=we[0],Se=we[1],Ne=(0,b.useState)(!1),Pe=Ne[0],ke=Ne[1],Ce=oe&&Ze[oe]||Ze.default,De=Boolean(oe&&oe===N.JP.Footage),Fe=(0,b.useCallback)(d()((function(e){(0,S.uM)(Q)(e,H).then((function(e){return he(e)})).catch(P.S3)}),300),[]);(0,b.useEffect)((function(){J&&(ue(""),ae(0))}),[]),(0,b.useEffect)((function(){ke((ye||je)&&Boolean(Y)||Boolean(null===Y||void 0===Y?void 0:Y.territorySelectionEnabled)),Se("/"===z.pathname&&Pe)}),[Y]);var Ie=function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"en",a=(0,y.q)(e===y.A.SearchNews?y.A.SearchNews:y.A.SearchPage,(0,m.b)()),l=(0,w.m)(a),s=l.distributorTerritory,c=l.regionalDistributorUrl,i=(0,j.u)(a),d=i.collectionNamePath,u=i.collectionName,b=s||u;if(b&&!t){var p="/news/newsresults.aspx";return a.includes(p)?"".concat(a.slice(0,a.length-p.length),"/").concat(b).concat(p):"".concat(s?c:d,"?qt=").concat(r)}if(u&&t){var h=(0,j.u)((0,y.q)(y.A.SearchFootage,(0,m.b)())).collectionNamePath;return"".concat(h,"?qt=").concat(r)}return(0,v.uP)(e,r,t,n,o)}(Ce,se||de,De,oe,H);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("form",{action:Ie,ref:K,onSubmit:function(e){e.preventDefault(),de?(0,C.QR)(Ie):ge(!1)},className:c()({"md:bg-grey-light":ve&&R}),id:"search",children:["number"===typeof oe&&(0,X.jsx)("input",{type:"hidden",name:"imgt",value:oe,"data-testid":"imgt"}),(0,X.jsx)("div",{className:c()(ve&&L&&"max-w-50"),children:(0,X.jsx)(Be,{query:de,suggestion:se,selectedFilter:oe,autocompleteResults:pe,onQueryChange:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ue(e),ce(null),e&&!me&&ge(!0),i&&e.length>1&&e!==se&&r&&"en"===H?Fe(e):t&&he([])},onFilterChange:function(e){ae(e),""!==de&&window.setTimeout((function(){var r,t;e!==N.JP.LiveNews?null===(r=K.current)||void 0===r||r.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})):null===(t=K.current)||void 0===t||t.submit()}))},setReverseSearchOpen:te,onSuggestionChange:ce,enableFilterSelect:l,onSearch:function(){window.setTimeout((function(){var e,r;K.current&&(oe!==N.JP.LiveNews?null===(e=K.current)||void 0===e||e.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})):null===(r=K.current)||void 0===r||r.submit())}),0)},enableReverseImageSearch:F,isVideoSearch:I,errorMessage:me?"":G("search-bar.search-error"),searchFilterIcon:U,classNames:V})}),A&&Pe&&(0,X.jsx)(Re.uD,{className:"2sm:w-2/4"}),Oe&&(0,X.jsx)("input",{type:"hidden",name:"mode",value:"1"})]}),F&&(0,X.jsx)(xe,{show:re,onHide:function(){return te(!1)}})]})}},78770:function(e,r,t){t.d(r,{uD:function(){return N}});var n,o=t(52209),a=t(61565),l=t(92809),s=t(2825),c=t(67814),i=t(94184),d=t.n(i),u=t(11163),b=t(67294),p=t(12102),h=t(2031),f=t(46530),m=t(57725),g=t(64275),x=t(86799),v=t(89419),y=t(85893);function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O=w({uk:"United Kingdom",us:"United States",ca:"Canada",fr:"France",de:"Germany",it:"Italy"},f),S=function(e){return e&&O[e]},N=function(e){var r,t,i=e.className,f=e.isFilter,j=void 0!==f&&f,N=e.isDisabled,P=(0,h.$)().t,k=(0,x.a)(),C=(0,u.useRouter)(),D=(0,b.useContext)(g.T).geoHeader,F=(null===k||void 0===k?void 0:k.territorySelectionEnabled)&&k.territoryId.toLowerCase(),Z=(0,p.Z)(),I=(0,a.Z)(Z,2),E=I[0],L=I[1],T=P(n||(n=(0,o.Z)(["search-bar.search-territory.default"]))),A=F||Boolean(S(null===D||void 0===D?void 0:D.toLowerCase()))&&(null===D||void 0===D?void 0:D.toLowerCase())||"uk",B=(0,b.useState)(Boolean(S(null===(r=E[v.d0])||void 0===r?void 0:r.toLowerCase()))&&(null===(t=E[v.d0])||void 0===t?void 0:t.toLowerCase())||A),R=B[0],q=B[1],J=w(w({},R&&(0,l.Z)({},R,O[R])),O),U=(0,m.x)(),V=U.isOpen,G=U.dropdownButtonProps;return(0,b.useEffect)((function(){var e;V&&j&&(null===(e=document.querySelector('[data-testid="FilterScrollContent"]'))||void 0===e||e.scrollTo(0,1e3))}),[V]),(0,y.jsxs)("div",{"data-testid":"searchCountry",className:d()("relative w-full",i),children:[(0,y.jsxs)("button",w(w({},G),{},{"data-testid":"button",className:d()("flex items-center justify-between w-full bg-white border border-black search-class cursor-pointer select-none focus:outline-none md:my-0.5",j?"h-10 my-2 py-2 rounded":"h-10 py-1 border-t-0 2sm:my-2 2sm:border-t 2sm:h-12 2sm:rounded-full"),disabled:N,children:[(0,y.jsx)("span",{"data-testid":"selectedCountry",className:"flex items-center w-full h-full px-4 py-1 text-left",children:S(R)||T}),(0,y.jsx)("div",{className:d()("h-full border-l border-black",j?"px-3":"px-5 py-1 2sm:py-2"),children:(0,y.jsx)(c.G,{className:"text-base font-bold",size:"1x",icon:s.ptq})})]})),V&&(0,y.jsx)("div",{className:d()("absolute z-10 py-2 pr-2 bg-white rounded mt-0.5 top-full h-thirdScreen min-h-52 md:right-4.5",j?"left-0 shadow-md":"left-4 right-4"),children:(0,y.jsx)("ul",{className:"h-full pr-4 overflow-y-auto scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-gray-300 scrollbar-track-white","data-testid":"list",children:Object.entries(J).map((function(e){var r=(0,a.Z)(e,2),t=r[0],n=r[1];return(0,y.jsx)("li",{className:d()("px-5 py-3 text-sm text-left font-noto transition-colors cursor-pointer",t===R?"bg-rebranded-grey text-guppie":"hover:bg-gray-100"),"data-testid":"option",onClick:function(){return function(e){var r=e===R?void 0:e;q(r),window&&(L(v.d0,r?r.toUpperCase():A,{encode:String,path:"/"}),C.reload())}(t)},children:n},t)}))})})]})}},15445:function(e,r,t){t.d(r,{x:function(){return l}});var n=t(94184),o=t.n(n),a=t(85893),l=function(e){var r=e.children,t=e.id,n=e.label,l=e.selectedTab,s=e.index,c=e.className;return(0,a.jsx)("div",{tabIndex:0,role:"tabpanel",id:t,"aria-labelledby":n,hidden:l!==s,className:o()("mt-6",l!==s&&"hidden",c),children:r})}},7528:function(e,r,t){t.d(r,{m:function(){return h}});var n=t(92809),o=t(61565),a=t(67294),l=t(94184),s=t.n(l),c=t(87899),i=t(85893),d=function(e){var r=e.tab,t=e.selected,n=e.children,o=e.onClick,a=e.className,l=e.disabled,c=e.isSubFilter,d=t?"text-blue":"text-black hover:opacity-50",u=t?"text-black border-blue":l?"":"text-black hover:border-grey-mid";return(0,i.jsx)("button",{className:s()("break-normal md:mr-2 -mb-px px-1 py-3 border-b-2 border-transparent flex-1 md:flex-auto text-sm focus-visible:outline-auto",c?d:u,l&&"text-grey-light-2",a),role:"tab","aria-selected":t,"aria-controls":r.controls,id:r.id,disabled:l,onClick:o,children:n})},u=function(e){var r=e.children,t=e.selectedTab,n=e["aria-label"],o=e.tabs,a=e.setTab,l=e.className,u=e.tabButtonClassName,b=e.isSubFilter,p=(0,c.w)();return(0,i.jsxs)("div",{className:s()(p?"flex border-gray-300 border-b-2 md:flex-auto":"flex border-b border-grey-light",l),role:"tablist","aria-label":n,children:[o.map((function(e){return(0,i.jsxs)(d,{tab:e,selected:t===e.index,onClick:function(){return a(e.index)},className:u,isSubFilter:b,disabled:e.disabled,children:[e.title,e.subtitle&&(0,i.jsx)("span",{className:"ml-1 font-normal",children:e.subtitle})]},e.id)})),r]})};function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var h=function(e){var r=e.children,t=e.className,n=e.defaultSelected,l=void 0===n?0:n,s=e.controlledSelectedTab,c=e["aria-label"],d=e.onChangeTab,b=e.tabListClassName,h=e.tabButtonClassName,f=e.isSubFilter,m=(0,a.useState)(l),g=m[0],x=m[1],v=function(e,r){return e.reduce((function(e,t,n){var a,l,s,c=(0,o.Z)(e,2),i=c[0],d=c[1],u=(Array.isArray(null===t||void 0===t||null===(a=t.props)||void 0===a?void 0:a.title)?null===t||void 0===t||null===(l=t.props)||void 0===l?void 0:l.title[0]:null===t||void 0===t||null===(s=t.props)||void 0===s?void 0:s.title).replace(/\s+/g,"-").toLowerCase(),b="".concat(u,"-tab");return[i.concat(p(p({},t),{},{props:p(p({},t.props),{},{id:b,labelledby:u,selectedTab:r,index:n})})),d.concat({title:t.props.title,subtitle:t.props.subtitle,disabled:t.props.disabled,id:u,controls:b,index:n})]}),[[],[]])}(r,s||g),y=(0,o.Z)(v,2),j=y[0],w=y[1];return(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)(u,{tabs:w,"aria-label":c,setTab:function(e){s?s!==e&&d&&d(e):(x(e),g!==e&&d&&d(e))},selectedTab:s||g,className:b,tabButtonClassName:h,isSubFilter:f}),j]})}}}]);